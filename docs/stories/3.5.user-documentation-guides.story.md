# Story 3.5: User Documentation & Guides

## Status

**Done**

---

## Story

**As a** new user,
**I want** comprehensive installation and usage documentation,
**so that** I can successfully install and use the tool without support.

---

## Context

This story focuses on creating production-ready user documentation for v1.0 MVP launch. It builds on the completed CLI implementation (Stories 3.1-3.4) to provide self-service installation and usage guides. This documentation enables users to successfully adopt the tool without requiring external support.

**Key Focus Areas:**
- Platform-specific installation instructions (Windows, macOS, Linux)
- Usage tutorials for common workflows
- Comprehensive CLI reference documentation
- Updates to existing ALPHA documentation
- README.md enhancements for v1.0 readiness

**Dependencies:**
- Story 3.0 (LOCATION/ORG Pseudonym Libraries) - Complete
- Story 3.1 (Batch Processing CLI) - Complete
- Story 3.2 (Progress Reporting) - Complete
- Story 3.3 (Configuration File Support) - Complete
- Story 3.4 (CLI UX Polish) - Complete

---

## Acceptance Criteria

### AC1: Installation Guide (docs/installation.md)

- Platform-specific instructions: Windows, macOS, Linux
- Prerequisites: Python version (3.9-3.11), Poetry installation
- Step-by-step installation: Clone repo ‚Üí Install dependencies ‚Üí Install spaCy model ‚Üí Verify
- Troubleshooting section: Common installation issues + solutions
- **Command invocation:** Document clearly that during beta phase, command is `poetry run gdpr-pseudo <cmd>` (direct `gdpr-pseudo` command available after Epic 4 PyPI publication)

**Content:**
- Platform: Windows 11, macOS (Intel/ARM), Ubuntu 22.04
- Python: 3.9-3.11 (note: 3.12+ not yet tested; spaCy compatibility pending verification)
- Poetry: 1.7+
- **Command usage:** `poetry run gdpr-pseudo <command>` (beta) ‚Üí `gdpr-pseudo <command>` (v1.0 after pip install)
- Troubleshooting: Python version mismatch, model download failures, permission issues

### AC2: Usage Tutorial (docs/tutorial.md)

- Quick start: First pseudonymization (5-minute tutorial)
- Common workflows: Single document, batch processing, configuration files
- Validation UI walkthrough: Entity review, keyboard shortcuts
- Theme comparison: neutral vs star_wars vs lotr examples

**Content:**
- Tutorial 1: Single document pseudonymization (process command)
- Tutorial 2: Batch processing multiple documents (batch command)
- Tutorial 3: Using configuration files (.gdpr-pseudo.yaml)
- Tutorial 4: Choosing a pseudonym theme

### AC3: Update ALPHA-*.md Documentation

- ALPHA-INSTALL.md: Update to reflect Story 3.0 changes (remove "PERSON only" limitation)
- ALPHA-QUICKSTART.md: Update limitations section (LOC/ORG now supported)
- ALPHA-TESTING-PROTOCOL.md: Already updated in Story 2.9 (no changes needed)

### AC4: README.md Updates

- Update "Quick Start" section: Reflect Epic 3 features (batch processing, config files)
- Update "Documentation" section: Add links to installation.md and tutorial.md
- Update "Known Limitations" section: Remove "PERSON only" note
- Update "Project Metrics": Epic 3 status, story count

### AC5: Command Reference Documentation

- Verify and update existing docs/CLI-REFERENCE.md: All commands, arguments, examples
- Comprehensive reference: `process`, `batch`, `config`, `init`, `stats`, etc.
- Ensure all Epic 3 commands are documented and up-to-date

### AC6: Testing Coverage

- Documentation review: PM + PO review for clarity, completeness
- User testing: 1-2 friendly users follow installation guide, report issues

---

## Tasks / Subtasks

- [x] **Task 3.5.1: Create docs/installation.md** (AC: 1)
  - [x] Write platform-specific installation instructions (Windows, macOS, Linux)
  - [x] Document prerequisites (Python 3.9-3.11, Poetry 1.7+)
  - [x] Provide step-by-step installation walkthrough
  - [x] Add troubleshooting section for common issues
  - [x] Clarify beta command usage: `poetry run gdpr-pseudo` vs `gdpr-pseudo`

- [x] **Task 3.5.2: Create docs/tutorial.md** (AC: 2)
  - [x] Write Tutorial 1: Single document pseudonymization (quick start)
  - [x] Write Tutorial 2: Batch processing multiple documents
  - [x] Write Tutorial 3: Using configuration files (.gdpr-pseudo.yaml)
  - [x] Write Tutorial 4: Choosing a pseudonym theme
  - [x] Include validation UI walkthrough with keyboard shortcuts (source: gdpr_pseudonymizer/validation/ui.py)
  - [x] Add theme comparison examples (neutral, star_wars, lotr)

- [x] **Task 3.5.3: Verify and Update docs/CLI-REFERENCE.md** (AC: 5)
  - [x] Review existing CLI-REFERENCE.md for completeness
  - [x] Ensure all Epic 3 commands documented: process, batch, config, init, stats, etc.
  - [x] Add missing command examples if any
  - [x] Verify all command arguments and options are documented
  - [x] Update with latest Story 3.4 changes (config set, destroy-table security features)

- [x] **Task 3.5.4: Update ALPHA-INSTALL.md and ALPHA-QUICKSTART.md** (AC: 3)
  - [x] ALPHA-INSTALL.md: Remove "PERSON only" limitation notes
  - [x] ALPHA-INSTALL.md: Add LOC/ORG pseudonym support notes
  - [x] ALPHA-QUICKSTART.md: Update limitations section (LOC/ORG now supported)
  - [x] ALPHA-QUICKSTART.md: Reflect Epic 3 CLI improvements

- [x] **Task 3.5.5: Update README.md** (AC: 4)
  - [x] Update "Quick Start" section with Epic 3 features (batch, config files)
  - [x] Add links to installation.md and tutorial.md in "Documentation" section
  - [x] Remove "PERSON only" note from "Known Limitations" section
  - [x] Update "Project Metrics" with Epic 3 completion status
  - [x] Ensure all command examples use `poetry run gdpr-pseudo` for beta phase

- [x] **Task 3.5.6: Documentation Review and Polish** (AC: 6)
  - [x] Self-review all new documentation for clarity and consistency
  - [x] Verify all cross-references and links work correctly
  - [x] Check that command examples are accurate and tested
  - [x] Ensure documentation style is consistent across all files
  - [x] Prepare documentation for PM/PO review
  - [ ] Coordinate user testing: Share installation.md with 1-2 friendly users for feedback

---

## Dev Notes

### Previous Story Insights

**From Story 3.4 (CLI UX Polish):**
- All CLI commands have improved help text and examples
- Error messages follow standardized format: `[ERROR] Desc | Action: x | Docs: y`
- Configuration file support via `.gdpr-pseudo.yaml`
- `config --init` generates template configuration
- `config set <key> <value>` for programmatic config updates
- Security features in `destroy-table`: passphrase verification, SQLite magic number check, symlink protection
- Passphrase warning for `--passphrase` flag (shell history exposure)
- Auto-accept known entities in batch validation

**From Story 3.3 (Configuration File Support):**
- Config file schema and priority: CLI > Project config > Home config > Defaults
- `config --show` displays current effective configuration
- Config validation with clear error messages

**From Story 3.2 (Progress Reporting):**
- Batch processing includes real-time progress bars with ETA
- Live entity count and pseudonym statistics during processing

**From Story 3.1 (Batch Processing CLI):**
- 8 new CLI commands: init, batch, list-mappings, validate-mappings, stats, import-mappings, export, destroy-table
- Parallel batch processing with `--workers` flag
- Cross-document consistency with encrypted mapping tables

**From Story 3.0 (LOCATION/ORG Pseudonym Libraries):**
- Full entity support: PERSON, LOCATION, ORGANIZATION
- Three themes: neutral (French names), star_wars, lotr
- Gender-preserving pseudonyms for PERSON entities

### Existing Documentation State

**[Source: Project root and docs/ folder]**

**Existing Documentation Files:**
```
docs/
‚îú‚îÄ‚îÄ ALPHA-INSTALL.md           # EXISTS - Alpha installation guide (needs update)
‚îú‚îÄ‚îÄ ALPHA-QUICKSTART.md        # EXISTS - Alpha quick start (needs update)
‚îú‚îÄ‚îÄ ALPHA-TESTING-PROTOCOL.md  # EXISTS - Alpha testing protocol (no changes needed per AC3)
‚îú‚îÄ‚îÄ CLI-REFERENCE.md           # EXISTS - CLI command reference (needs verification/update)
‚îú‚îÄ‚îÄ prd/                       # Epic files
‚îú‚îÄ‚îÄ architecture/              # Architecture docs
‚îî‚îÄ‚îÄ stories/                   # Story files

README.md                      # EXISTS - Main README (needs updates)
```

**Files to CREATE:**
```
docs/
‚îú‚îÄ‚îÄ installation.md            # CREATE - Production installation guide
‚îî‚îÄ‚îÄ tutorial.md                # CREATE - Usage tutorials
```

**Files to UPDATE:**
```
docs/
‚îú‚îÄ‚îÄ ALPHA-INSTALL.md           # UPDATE - Remove PERSON-only limitations
‚îú‚îÄ‚îÄ ALPHA-QUICKSTART.md        # UPDATE - LOC/ORG support, Epic 3 features
‚îî‚îÄ‚îÄ CLI-REFERENCE.md           # VERIFY/UPDATE - Ensure all Epic 3 commands documented

README.md                      # UPDATE - Quick Start, Documentation, Limitations, Metrics
```

### Documentation Standards

**[Source: architecture/19-coding-standards.md]**

**Command Invocation (CRITICAL):**
- All commands MUST use `poetry run` prefix during beta phase
- Example: `poetry run gdpr-pseudo process input.txt`
- After PyPI publication (Epic 4): Direct `gdpr-pseudo` command available

**Build System:**
```bash
# GOOD - Poetry commands
poetry install
poetry run pytest tests/
poetry run gdpr-pseudo --help

# BAD - System Python/pip
pip install -e .              # ‚ùå NO
pytest tests/                 # ‚ùå NO
gdpr-pseudo --help            # ‚ùå NO (not available until PyPI publish)
```

**Python Version Support:**
- Supported: Python 3.9 - 3.11 (tested in CI)
- Not yet tested: Python 3.12+ (spaCy/dependency compatibility pending verification)

### Project Structure

**[Source: architecture/12-unified-project-structure.md]**

**Documentation Location:**
```
docs/                              # Documentation root
‚îú‚îÄ‚îÄ installation.md                # NEW - Installation guide
‚îú‚îÄ‚îÄ tutorial.md                    # NEW - Usage tutorials
‚îú‚îÄ‚îÄ CLI-REFERENCE.md               # EXISTING - Verify completeness
‚îú‚îÄ‚îÄ ALPHA-INSTALL.md               # EXISTING - Update
‚îú‚îÄ‚îÄ ALPHA-QUICKSTART.md            # EXISTING - Update
‚îú‚îÄ‚îÄ prd/                           # Product requirements
‚îÇ   ‚îú‚îÄ‚îÄ epic-3-*.md
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ architecture/                  # Architecture documents
‚îÇ   ‚îú‚îÄ‚îÄ index.md
‚îÇ   ‚îî‚îÄ‚îÄ *.md
‚îî‚îÄ‚îÄ stories/                       # Story files
    ‚îú‚îÄ‚îÄ 3.4.cli-ux-polish.story.md
    ‚îú‚îÄ‚îÄ 3.5.user-documentation-guides.story.md
    ‚îî‚îÄ‚îÄ ...
```

### CLI Commands to Document

**[Source: Story 3.1-3.4 completion, CLI-REFERENCE.md]**

**All CLI Commands (Epic 3 Complete):**
1. `init` - Initialize encrypted mapping database
2. `process` - Process single document
3. `batch` - Process multiple documents
4. `list-mappings` - List all pseudonym mappings
5. `validate-mappings` - Validate mapping table integrity
6. `stats` - Display database statistics
7. `import-mappings` - Import mappings from another database
8. `export` - Export pseudonymized documents
9. `destroy-table` - Securely destroy mapping database
10. `config` - Configuration management (show, set, init)

**Configuration File:**
- `.gdpr-pseudo.yaml` - Project or home directory config
- Priority: CLI > Project config > Home config > Defaults
- `config --init` generates template
- `config set <key> <value>` programmatic updates
- `config` or `config --show` displays effective config

**Global Options:**
- `--version` - Show version
- `--config PATH` - Custom config file path
- `--verbose` / `-v` - Debug logging
- `--quiet` / `-q` - Suppress output
- `--help` - Show help

### README Current State

**[Source: README.md lines 1-150]**

**Current README Structure:**
- üéØ Overview
- ‚ú® Key Features (Privacy-First, AI+Human, Batch Processing, Themed Pseudonyms)
- üöÄ Quick Start (Alpha v0.1.0 status, Epic 1-3 progress)
- ‚öôÔ∏è Installation (Quick Install, Verify Installation, Configuration File)
- üìñ Documentation (links to ALPHA-*.md)
- üèóÔ∏è Development (Project structure)
- üìä Project Metrics

**Updates Needed (AC4):**
- **Quick Start:** Add Epic 3 completion status, batch processing, config file features
- **Documentation:** Add links to installation.md and tutorial.md
- **Known Limitations:** Remove "PERSON only" note (now supports LOC/ORG)
- **Project Metrics:** Update Epic 3 status to "Complete", reflect story count

### Documentation Content Guidelines

**Installation Guide (installation.md):**
- Must be beginner-friendly and platform-specific
- Include screenshots or code blocks for each step
- Provide troubleshooting for common issues:
  - Python version mismatch
  - Poetry installation failures
  - spaCy model download issues
  - Permission errors
- Clarify beta vs production command usage

**Tutorial Guide (tutorial.md):**
- Start with 5-minute quick start (single document)
- Progress to advanced workflows (batch, config)
- Include validation UI walkthrough with keyboard shortcuts (source: `gdpr_pseudonymizer/validation/ui.py:378-396`):
  - Navigation: Arrow keys, j/k
  - Actions: a (accept), r (reject), Shift+A (accept all), Shift+R (reject all)
  - Quit: q, Ctrl+C
- Show theme comparison with examples:
  - Neutral: "Marie Dubois" ‚Üí "Sophie Martin"
  - Star Wars: "Marie Dubois" ‚Üí "Leia Organa"
  - LOTR: "Marie Dubois" ‚Üí "Arwen Evenstar"

**CLI Reference Verification (CLI-REFERENCE.md):**
- Ensure all 10 commands fully documented
- Verify all Story 3.4 enhancements included:
  - `config set` command (AC4.5)
  - `destroy-table` security features (AC4)
  - `--workers` flag for parallel batch processing (Story 3.3)
- Include comprehensive examples for each command

### File Locations Summary

**Files to CREATE:**
```
docs/installation.md           # NEW - Installation guide (AC1)
docs/tutorial.md               # NEW - Usage tutorials (AC2)
```

**Files to UPDATE:**
```
docs/ALPHA-INSTALL.md          # UPDATE - Remove PERSON-only limitations (AC3)
docs/ALPHA-QUICKSTART.md       # UPDATE - LOC/ORG support, Epic 3 features (AC3)
docs/CLI-REFERENCE.md          # VERIFY/UPDATE - Epic 3 completeness (AC5)
README.md                      # UPDATE - Quick Start, Documentation, Metrics (AC4)
```

---

## Testing

**[Source: architecture/16-testing-strategy.md]**

### Testing Standards

This is a documentation story, so traditional unit/integration tests do not apply. Instead, testing focuses on:

**Documentation Quality Assurance:**
- **Clarity Review:** All documentation must be readable by non-technical users
- **Completeness Review:** All commands, features, and workflows documented
- **Accuracy Review:** All command examples must be tested and verified
- **Consistency Review:** Terminology and formatting consistent across all files

**Testing Approach:**

1. **Manual Verification:**
   - Test all command examples in documentation
   - Verify installation instructions on Windows, macOS, Linux
   - Follow tutorials step-by-step to ensure accuracy
   - Check all cross-references and links work

2. **User Testing (AC6):**
   - 1-2 friendly users follow installation.md from scratch
   - Report issues, unclear steps, or missing information
   - Collect feedback on tutorial clarity and usefulness

3. **PM/PO Review (AC6):**
   - Product Manager reviews for business messaging
   - Product Owner reviews for user story alignment
   - Both review for completeness and clarity

**Coverage Target:**
- 100% of CLI commands documented in CLI-REFERENCE.md
- 100% of installation steps verified on target platforms
- 100% of tutorial examples tested and working

**Testing Execution:**
```bash
# Test installation guide commands
poetry install
poetry run python scripts/install_spacy_model.py
poetry run gdpr-pseudo --help

# Test tutorial examples
echo "Marie Dubois travaille √† Paris pour Acme SA." > test.txt
poetry run gdpr-pseudo process test.txt

# Test batch processing example
poetry run gdpr-pseudo batch input_docs/ --db mappings.db --theme star_wars

# Test configuration example
poetry run gdpr-pseudo config --init
poetry run gdpr-pseudo config
poetry run gdpr-pseudo config set pseudonymization.theme star_wars
```

### Documentation Review Checklist

- [ ] All command examples tested and verified working
- [ ] Installation instructions tested on Windows, macOS, Linux
- [ ] Tutorial workflows tested end-to-end
- [ ] All cross-references and links verified
- [ ] Terminology consistent across all documentation
- [ ] No sensitive information or internal notes exposed
- [ ] Beta vs production command usage clearly distinguished
- [ ] Troubleshooting sections comprehensive and helpful

---

## Change Log

| Date       | Version | Description                          | Author         |
|------------|---------|--------------------------------------|----------------|
| 2026-02-06 | 1.0     | Initial story draft created (SM)     | Bob (SM Agent) |
| 2026-02-06 | 1.1     | PO validation: Fixed Python version (3.9-3.11), clarified AC5, added source refs | Sarah (PO Agent) |
| 2026-02-06 | 1.2     | Implementation complete: Created installation.md, tutorial.md; updated CLI-REFERENCE.md, ALPHA-*.md, README.md | James (Dev Agent) |

---

## Dev Agent Record

### Agent Model Used

Claude Opus 4.5 (claude-opus-4-5-20251101)

### Debug Log References

No debug entries required - documentation-only story with no code changes.

### Completion Notes

- Created comprehensive installation guide with platform-specific instructions (Windows, macOS, Linux)
- Created usage tutorial with 4 tutorials covering common workflows
- Updated CLI-REFERENCE.md with `config` command section, `config set` subcommand, `--workers` flag for batch, and `destroy-table` security features
- Updated ALPHA-INSTALL.md and ALPHA-QUICKSTART.md with Epic 3 features (batch operations, config files, `batch` command)
- Updated README.md with current Epic 3 status (Stories 3.0-3.4 complete), documentation links, and project metrics
- All command examples verified working via CLI tests
- User testing coordination pending (AC6 final subtask)

### File List

**Created:**
- docs/installation.md - Platform-specific installation guide
- docs/tutorial.md - Usage tutorials (4 tutorials)

**Modified:**
- docs/CLI-REFERENCE.md - Added config command, workers flag, destroy-table security
- docs/ALPHA-INSTALL.md - Updated Python version requirements
- docs/ALPHA-QUICKSTART.md - Added Epic 3 features (batch, config, batch operations)
- README.md - Updated documentation links, project metrics, Epic 3 status

---

## QA Results

### Review Date: 2026-02-06

### Reviewed By: Quinn (Test Architect)

### Documentation Quality Assessment

**Overall Assessment:** HIGH QUALITY - The documentation is comprehensive, well-structured, and provides clear guidance for users at all experience levels. All core deliverables meet production-ready standards.

**installation.md (AC1):** ‚úÖ EXCELLENT
- Platform-specific coverage: Windows 11, macOS (Intel/ARM), Ubuntu 22.04
- Clear prerequisites table with version requirements
- Step-by-step instructions with expected output examples
- Comprehensive troubleshooting (8 common issues covered)
- Beta command usage clearly explained (`poetry run` prefix)

**tutorial.md (AC2):** ‚úÖ EXCELLENT
- 4 well-structured tutorials covering progressive complexity
- Validation UI walkthrough with complete keyboard shortcut reference
- Theme comparison table with concrete examples
- Real-world workflow examples (Academic, HR, Legal use cases)

**CLI-REFERENCE.md (AC5):** ‚úÖ EXCELLENT
- All 10 Epic 3 commands documented with full options
- `config set` subcommand documented (Story 3.4)
- `--workers` flag for parallel batch processing included
- `destroy-table` security features (passphrase verification, SQLite magic check, symlink protection) documented
- Security warnings for passphrase handling

**ALPHA-INSTALL.md (AC3):** ‚úÖ UPDATED
- Python version requirements corrected to 3.9-3.11
- Poetry installation instructions current

**ALPHA-QUICKSTART.md (AC3):** ‚úÖ UPDATED
- Batch processing section added (Option 1 with `batch` command)
- Configuration files section with `.gdpr-pseudo.yaml` examples
- LOC/ORG pseudonym support noted in Known Limitations
- Batch operations (Shift+A/Shift+R) documented

**README.md (AC4):** ‚úÖ UPDATED
- Documentation section links to installation.md and tutorial.md
- "PERSON only" limitation removed from features
- Project metrics updated with Epic 3 progress
- Story 3.5 status reflected

### Refactoring Performed

None - Documentation story with no code changes.

### Compliance Check

- Coding Standards: N/A (documentation only)
- Project Structure: ‚úÖ All docs in correct locations
- Testing Strategy: ‚úÖ Documentation review approach followed
- All ACs Met: ‚ö†Ô∏è 5/6 complete, AC6 partially complete (user testing pending)

### Improvements Checklist

- [x] installation.md created with platform-specific instructions
- [x] tutorial.md created with 4 comprehensive tutorials
- [x] CLI-REFERENCE.md verified and updated with Epic 3 commands
- [x] ALPHA-INSTALL.md updated with correct Python versions
- [x] ALPHA-QUICKSTART.md updated with batch/config features
- [x] README.md updated with documentation links and metrics
- [x] All cross-references verified working
- [ ] User testing coordination (AC6 final subtask) - pending external coordination

### Security Review

No security concerns. Documentation correctly advises:
- Never store passphrase in config files
- Use environment variable or interactive prompt for passphrase
- Warning about `--passphrase` CLI flag visibility in shell history/process lists
- `destroy-table` security features documented

### Performance Considerations

N/A - Documentation story.

### Files Modified During Review

None - Documentation review only.

### Gate Status

Gate: PASS ‚Üí docs/qa/gates/3.5-user-documentation-guides.yml
Risk profile: Low (documentation-only story)

### Recommended Status

‚úÖ Ready for Done

**Note:** AC6 user testing coordination is marked pending but is an external coordination task that can proceed post-merge. The core documentation deliverables are complete and production-ready.

**Minor Note:** installation.md references `docs/faq.md` which is marked as "Coming in v1.0" - this is acceptable as forward-looking documentation.
